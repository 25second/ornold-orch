# Ornold-Orch: Распределенный веб-агент

Ornold-Orch - это распределенная система для выполнения сложных задач в веб-браузере, управляемая через LLM. Архитектура "Мастер-Воркер" позволяет параллельно управлять множеством браузерных сессий.

## Ключевые особенности
- **Распределенная Архитектура**: Оркестратор (Мастер) и Воркеры (Сессионные Агенты) работают как отдельные сервисы.
- **Интеллектуальное Восприятие**: Использует подход, вдохновленный WebVoyager, для надежного определения интерактивных элементов на странице.
- **Обучение на Ошибках**: Сохраняет контекст ошибок и успешные стратегии их решения в векторную базу данных (ChromaDB) для будущего использования.
- **Развертывание одной командой**: Вся система (API, Воркеры, Redis, ChromaDB) запускается одной командой `docker-compose up`.

## Установка и запуск

### 1. Предварительные требования
- Docker
- Docker Compose

### 2. Клонирование репозитория
```bash
git clone https://github.com/25second/ornold-orch.git
cd ornold-orch
```

### 3. Конфигурация
Создайте файл `.env` в корне проекта. Вы можете скопировать `.env.example` (если он есть) или создать его с нуля. Он должен содержать ваши API-ключи и настройки для Docker.

```bash
# .env

# --- Ключи API ---
RUNPOD_API_KEY=your_runpod_api_key_here
RUNPOD_ENDPOINT_ID_GEMMA=your_gemma_endpoint_id_here
RUNPOD_ENDPOINT_ID_EMBEDDING=your_embedding_endpoint_id_here

# --- Настройки для Docker ---
# Эти переменные используются, когда приложение запускается через docker-compose.
# Они позволяют контейнерам находить друг друга по именам сервисов.
REDIS_HOST=redis
CHROMADB_HOST=chromadb
```

### 4. Сборка и запуск
Эта команда соберет Docker-образы для API и воркеров, запустит все сервисы в фоновом режиме и свяжет их вместе.

```bash
docker-compose up --build -d
```

### 5. Проверка статуса
Вы можете проверить, что все контейнеры работают, командой:
```bash
docker-compose ps
```

## Использование API

API Оркестратора будет доступно по адресу `http://localhost:8000`.

### Создание новой задачи
```bash
curl -X POST "http://localhost:8000/tasks" \
-H "Content-Type: application/json" \
-d '{
  "goal": "Зайти на сайт github.com и найти в поиске репозиторий \"langchain\"",
  "browser_endpoints": ["wss://your-unique-tunnel.ngrok.io"]
}'
```

### Остановка системы
Чтобы остановить все сервисы, используйте:
```bash
docker-compose down
``` 